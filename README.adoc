# HastanePool

== Multi Thread Safe Singleton Object Pool Design Pattern with Java

=== Abstract

____
The object pool pattern is a design pattern that can improve performance
when working with classes that are slow to instantiate. Rather than
constructing new objects, reusable objects are retrieved from the pool
as required. When no longer needed, objects are returned to the pool
rather than being destroyed.

*_Singleton_*: Singleton is a creational design pattern that lets you ensure that a class has only one instance, while providing a global access point to this instance.

*_Pool_*: The Pool class is the most important class in the object pool design pattern. It controls access to the pooled objects, maintaining a list of available objects and a collection of objects that have already been requested from the pool and are still in use. The pool also ensures that objects that have been released are returned to a suitable state, ready for the next time they are requested.

*_Objects_*: The reusable objects that are expensive or slow to instantiate.

*_Client_*: The class that requests to use object(s) in the pool.

http://www.blackwasp.co.uk/ObjectPool.aspx[Blackwasp]
____
=== Scenarios
*_Scenario 1_*: 10 pre-prepared objects are kept in the Object Pool.
But no more than 10 objects are allowed. If 10 objects are in use, it is
ensured that the requesters are waited. A request was made by starting
15 separate threads. Only 10 of these 15 threads were able to retrieve
objects from the object pool and left the object pool back after use.
Out of 15 threads, 5 of which could not receive an object were made to wait
and continued to run when the object pool responded to the object request.

*_Scenario 2_*: There is a reference to the object pool object defined as Singleton in each thread.
 All threads can change the object pool size within themselves.
 Since the Object pool is singleton, other instances are also affected by this situation.
 This process was carried out using 4 different threads.

*_Scenario 3_*: Object Pool, which has 3 pre-prepared objects, works in 4 different threads.
The Object Pool object defined outside the threads receives or leaves objects with 50% probability for each thread.

=== UML Diagram

image::uml/UML.png[UML Diagram for This Example of Object Pool Design Pattern]

= References
* http://www.blackwasp.co.uk/ObjectPool.aspx
* https://java-design-patterns.com/patterns/object-pool/
* https://www.geeksforgeeks.org/multithreading-in-java/
* https://github.com/ttnny/object-pool-example
* https://plantuml.com/
* https://asciidoctor.org/docs/asciidoc-writers-guide/

